<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>{% block title %}Meal Recommender{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet"/>
  <style>
    body{font-family:system-ui,Arial,sans-serif;max-width:1000px;margin:20px auto;padding:0 12px}
    header a{margin-right:10px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
    .card{border:1px solid #ddd;border-radius:10px;padding:10px}
    img.thumb{width:100%;height:140px;object-fit:cover;border-radius:8px;background:#eee}
    .muted{color:#666;font-size:.9em}
  </style>
</head>
<body>
<header>
  <a href="{% url 'index' %}">Landing</a>
  {% if user.is_authenticated %}
    <a href="{% url 'history' %}">History</a>
    <a href="{% url 'add_meal' %}">Add Meal</a>
    <span>Signed in as <strong>{{ user.username }}</strong></span>
    <a href="{% url 'logout' %}">Logout</a>
  {% else %}
    <span>Anonymous</span>
    <a href="{% url 'login' %}">Login</a>
    <a href="{% url 'register' %}">Register</a>
  {% endif %}
  <hr>
</header>

{% if messages %}
  <ul>
    {% for m in messages %}<li>{{ m }}</li>{% endfor %}
  </ul>
{% endif %}

{% block content %}{% endblock %}

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
{% block scripts %}{% endblock %}
</body>
</html>
